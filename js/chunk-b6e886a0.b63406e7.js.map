{"version":3,"sources":["webpack:///./src/views/property/TenantRentDetails.vue?2757","webpack:///src/views/property/TenantRentDetails.vue","webpack:///./src/views/property/TenantRentDetails.vue?d8bc","webpack:///./src/views/property/TenantRentDetails.vue","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./src/services/prop.service.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","emailStatus","rentDetail","_m","username","startDate","propertyName","propertyDesc","rentAmount","attrs","on","emailOwner","_e","message","directives","name","rawName","value","expression","staticRenderFns","data","loading","mounted","$store","state","auth","user","$router","push","methods","component","_defineProperty","obj","key","enumerable","configurable","writable","API_URL","PropService","property","userId","pageNo","sortField","sortType","axios","get","headers","authHeader","propertyId","id","put","post","delete","rent","requestObj"],"mappings":"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","file":"js/chunk-b6e886a0.b63406e7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._v(\"\\n  \"+_vm._s(_vm.emailStatus)+\"\\n  \"),(_vm.rentDetail.username)?_c('table',{staticClass:\"table table-striped\"},[_vm._m(0),(_vm.rentDetail)?_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.rentDetail.username))]),_c('td',[_vm._v(_vm._s(_vm.rentDetail.startDate))]),_c('td',[_vm._v(_vm._s(_vm.rentDetail.propertyName))]),_c('td',[_vm._v(_vm._s(_vm.rentDetail.propertyDesc))]),_c('td',[_vm._v(\"\\n          \"+_vm._s(_vm.rentDetail.rentAmount)+\" Â \\n          \"),_c('a',{attrs:{\"href\":\"https://test.instamojo.com/@laaptulaaptu1/\",\"target\":\"_blank\"},on:{\"click\":_vm.emailOwner}},[_vm._v(\"Pay now\")])])])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"container text-center\"},[(!_vm.message)?_c('div',[_vm._v(\" Fetching Rent Detail\")]):_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"spinner-grow spinner-grow-lg text-info\"}),(_vm.message)?_c('div',[(!_vm.rentDetail.rentAmount)?_c('div',{staticClass:\"alert alert-info\"},[_vm._v(\"\\n    No data found\\n  \")]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"User Name\")]),_c('th',[_vm._v(\"Start Date\")]),_c('th',[_vm._v(\"Property Name\")]),_c('th',[_vm._v(\"Property Description\")]),_c('th',[_vm._v(\"Rent Amount(Rs)\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    {{emailStatus}}\r\n    <table v-if=\"rentDetail.username\" class=\"table table-striped\">\r\n      <thead>\r\n        <tr>\r\n          <th>User Name</th>\r\n          <th>Start Date</th>\r\n          <th>Property Name</th>\r\n          <th>Property Description</th>\r\n          <th>Rent Amount(Rs)</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody v-if=\"rentDetail\">\r\n        <tr>\r\n          <td>{{rentDetail.username}}</td>\r\n          <td>{{rentDetail.startDate}}</td>\r\n          <td>{{rentDetail.propertyName}}</td>\r\n          <td>{{rentDetail.propertyDesc}}</td>\r\n          <td>\r\n            {{rentDetail.rentAmount}} &nbsp;\r\n            <a\r\n              @click=\"emailOwner\"\r\n              href=\"https://test.instamojo.com/@laaptulaaptu1/\"\r\n              target=\"_blank\"\r\n            >Pay now</a>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    \r\n    <div class=\"container text-center\">\r\n    <div v-if =\"!message\"> Fetching Rent Detail</div>\r\n      <span v-show=\"loading\" class=\"spinner-grow spinner-grow-lg text-info\"></span>\r\n       <div v-if=\"message\">\r\n     <div v-if=\"!rentDetail.rentAmount\" class=\"alert alert-info\">\r\n      No data found\r\n    </div>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport PropService from '../../services/prop.service';\r\nexport default {\r\n  name: 'TenantRentDetail',\r\n  data() {\r\n    return {\r\n      rentDetail: {},\r\n      message: '',\r\n      emailStatus: '',\r\n      loading:false\r\n    };\r\n  },\r\n  mounted() {\r\n    if (!this.$store.state.auth.user) {\r\n      this.$router.push('/login');\r\n    }\r\n\r\n    this.loading=true;\r\n    let user = this.$store.state.auth.user;\r\n\r\n    PropService.getRentDetail(user.id).then(\r\n      response => {\r\n         this.loading=false;\r\n        this.rentDetail = response.data;\r\n        this.rentDetail.username = user.username;\r\n      },\r\n      error => {\r\n        this.loading=false;\r\n        this.message =\r\n          'Error while retrieving property details,please try again';\r\n      }\r\n    );\r\n  },\r\n  methods: {\r\n    emailOwner() {\r\n        PropService.emailOwner(this.rentDetail).then(\r\n        response => {\r\n          this.emailStatus = response.data;\r\n        },\r\n        error => {\r\n          this.emailStatus = 'error while sending notifying owner';\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TenantRentDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TenantRentDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TenantRentDetails.vue?vue&type=template&id=1bbc513e&\"\nimport script from \"./TenantRentDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./TenantRentDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import axios from 'axios';\r\nimport authHeader from './auth-header';\r\n\r\nconst API_URL = 'https://rentcollect.herokuapp.com/api/';\r\n\r\nclass PropService {\r\n\r\n  property = {};\r\n\r\n  setProperty(property){\r\n    this.property = property;\r\n  }\r\n  getPropertyData(){\r\n    return this.property;\r\n  }\r\n  getAllProperties(userId, pageNo, sortField, sortType) {\r\n    return axios.get(API_URL + 'property/'+userId+'?page='+pageNo+'&sortField='+sortField+'&sortType='+sortType, { headers: authHeader() });\r\n  }\r\n  getProperty(userId, propertyId) {\r\n    return axios.get(API_URL + 'user/'+userId+ '/property/'+ propertyId, { headers: authHeader() });\r\n  }\r\n  createEditProperty(userId, property) {\r\n    if(property.id){\r\n      return axios.put(API_URL + 'user/'+userId+ '/property/'+ property.id, property, { headers: authHeader() });\r\n    }\r\n    return axios.post(API_URL + 'property/'+userId, property, { headers: authHeader() });\r\n  }\r\n\r\n  deleteProperty(userId, propertyId) {\r\n    return axios.delete(API_URL + 'user/'+userId+ '/property/'+ propertyId, { headers: authHeader() });\r\n  }\r\n  rentProperty(propertyId,rent) {\r\n \r\n        return axios.post(API_URL + 'rent/'+ propertyId, rent, { headers: authHeader() });\r\n    }\r\n\r\n  getRentDetail(userId) {\r\n    return axios.get(API_URL + 'rent/'+ userId,{ headers: authHeader() });\r\n\r\n}\r\npasswordReset(userId, requestObj) {\r\n  return axios.put(API_URL + 'user/reset/'+userId, requestObj, { headers: authHeader() });\r\n\r\n}\r\nemailOwner(rentDetail) {\r\n  return axios.post(API_URL + 'rent/notifyOwner', rentDetail, { headers: authHeader() });\r\n\r\n}\r\n}\r\n\r\nexport default new PropService();\r\n"],"sourceRoot":""}